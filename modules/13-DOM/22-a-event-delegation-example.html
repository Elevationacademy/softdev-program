<!DOCTYPE html>
<style>
    .visible {
    height: 100px;
    overflow: hidden;
    transition: height 0.2s ease-in;
  }

  .invisible {
    height: 0;
    overflow: hidden;
    transition: height 0.2s ease-in;
  }
</style>
<ul id="menu">
  <li>AAA
    <ul class="visible">
      <li>AAA-1</li>
      <li>AAA-2</li>
      <li>AAA-3</li>
    </ul>
  </li>
  <li>BBB
    <ul class="visible">
      <li>BBB-1</li>
      <li>BBB-2</li>
      <li>BBB-3</li>
    </ul>
  </li>
  <li>CCC
    <ul class="visible">
      <li>CCC-1</li>
      <li>CCC-2</li>
      <li>CCC-3</li>
    </ul>
  </li>
</ul>

<script>
  const menuElement = document.querySelector('#menu')

  menuElement.addEventListener('click', event => {
    const liClicked = event.target
    const subMenu = liClicked.querySelector('ul')

    if (subMenu.className === 'visible')
      subMenu.className = 'invisible'
    else
      subMenu.className = 'visible'
  })
</script>


<!--
  * Using _one_ listener, and using the event.target to get at the element.
-->
